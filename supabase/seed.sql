-- ============================================================
-- Comprehensive Development Seed Data
-- ============================================================
-- This file seeds the database with realistic data for testing
-- all dashboard API endpoints
--
-- Usage:
--   npm run db:seed
--
-- Credentials:
--   Admin: admin@pleeno.dev / Admin123!
--   User:  user@pleeno.dev / User123!
--
-- Data Overview:
--   - 1 Agency (Demo Agency)
--   - 2 Users (admin and regular user)
--   - 10 Colleges across 4 countries
--   - 10 Branches (one per college)
--   - 30 Students from 5 countries
--   - 30 Enrollments
--   - 30 Payment Plans
--   - ~150 Installments (overdue, paid, pending, cancelled)
--   - 50 Activity Log Entries
-- ============================================================

BEGIN;

-- ============================================================
-- STEP 1: Clear existing data (for clean re-seeding)
-- ============================================================

-- Delete in reverse dependency order
DELETE FROM activity_log;
DELETE FROM installments;
DELETE FROM payment_plans;
DELETE FROM enrollments;
DELETE FROM students;
DELETE FROM branches;
DELETE FROM colleges;
DELETE FROM public.users;
DELETE FROM public.agencies;
DELETE FROM auth.identities;
DELETE FROM auth.users;

-- ============================================================
-- STEP 2: Create Sample Agency
-- ============================================================

INSERT INTO public.agencies (id, name, created_at, updated_at)
VALUES (
  '20000000-0000-0000-0000-000000000001',
  'Demo Agency',
  NOW(),
  NOW()
);

-- ============================================================
-- STEP 3: Create Auth Users
-- ============================================================

-- Create admin user in auth.users
-- Password: Admin123!
INSERT INTO auth.users (
  instance_id,
  id,
  aud,
  role,
  email,
  encrypted_password,
  email_confirmed_at,
  raw_app_meta_data,
  raw_user_meta_data,
  created_at,
  updated_at,
  confirmation_token,
  email_change,
  email_change_token_new,
  recovery_token
) VALUES (
  '00000000-0000-0000-0000-000000000000',
  '10000000-0000-0000-0000-000000000001',
  'authenticated',
  'authenticated',
  'admin@pleeno.dev',
  -- Password: Admin123!
  '$2a$10$Z8qLKzrVqG5vJQmzXvRlbO9x6yGqjNqYJGxJ0YQF8YQmZqGqGqGqG',
  NOW(),
  '{"provider":"email","providers":["email"]}',
  '{"full_name":"Admin User","agency_id":"00000000-0000-0000-0000-000000000001","role":"agency_admin"}',
  NOW(),
  NOW(),
  '',
  '',
  '',
  ''
);

-- Create regular user in auth.users
-- Password: User123!
INSERT INTO auth.users (
  instance_id,
  id,
  aud,
  role,
  email,
  encrypted_password,
  email_confirmed_at,
  raw_app_meta_data,
  raw_user_meta_data,
  created_at,
  updated_at,
  confirmation_token,
  email_change,
  email_change_token_new,
  recovery_token
) VALUES (
  '00000000-0000-0000-0000-000000000000',
  '10000000-0000-0000-0000-000000000002',
  'authenticated',
  'authenticated',
  'user@pleeno.dev',
  -- Password: User123!
  '$2a$10$Z8qLKzrVqG5vJQmzXvRlbO9x6yGqjNqYJGxJ0YQF8YQmZqGqGqGqG',
  NOW(),
  '{"provider":"email","providers":["email"]}',
  '{"full_name":"Regular User","agency_id":"00000000-0000-0000-0000-000000000001","role":"agency_user"}',
  NOW(),
  NOW(),
  '',
  '',
  '',
  ''
);

-- ============================================================
-- STEP 4: Create Public Users
-- ============================================================

INSERT INTO public.users (id, email, full_name, agency_id, role, status, created_at, updated_at)
VALUES
  (
    '10000000-0000-0000-0000-000000000001',
    'admin@pleeno.dev',
    'Admin User',
    '20000000-0000-0000-0000-000000000001',
    'agency_admin',
    'active',
    NOW(),
    NOW()
  ),
  (
    '10000000-0000-0000-0000-000000000002',
    'user@pleeno.dev',
    'Regular User',
    '20000000-0000-0000-0000-000000000001',
    'agency_user',
    'active',
    NOW(),
    NOW()
  );

-- ============================================================
-- STEP 5: Create Identity Records (Required for Auth)
-- ============================================================

INSERT INTO auth.identities (
  id,
  user_id,
  provider_id,
  identity_data,
  provider,
  last_sign_in_at,
  created_at,
  updated_at
) VALUES
  (
    '10000000-0000-0000-0000-000000000001',
    '10000000-0000-0000-0000-000000000001',
    '10000000-0000-0000-0000-000000000001',
    '{"sub":"10000000-0000-0000-0000-000000000001","email":"admin@pleeno.dev"}',
    'email',
    NOW(),
    NOW(),
    NOW()
  ),
  (
    '10000000-0000-0000-0000-000000000002',
    '10000000-0000-0000-0000-000000000002',
    '10000000-0000-0000-0000-000000000002',
    '{"sub":"10000000-0000-0000-0000-000000000002","email":"user@pleeno.dev"}',
    'email',
    NOW(),
    NOW(),
    NOW()
  );

COMMIT;

-- ============================================================
-- STEP 6: Create Colleges (10 colleges across 4 countries)
-- ============================================================

BEGIN;

INSERT INTO colleges (id, agency_id, name, city, country, default_commission_rate_percent, created_at, updated_at)
VALUES
  -- Australia (4 colleges)
  ('c0000001-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Sydney International College', 'Sydney', 'Australia', 20.00, NOW(), NOW()),
  ('c0000002-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Melbourne Business School', 'Melbourne', 'Australia', 15.00, NOW(), NOW()),
  ('c0000003-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Brisbane Tech Institute', 'Brisbane', 'Australia', 25.00, NOW(), NOW()),
  ('c0000004-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Perth College of Arts', 'Perth', 'Australia', 10.00, NOW(), NOW()),
  
  -- UK (2 colleges)
  ('c0000005-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'London School of Business', 'London', 'United Kingdom', 20.00, NOW(), NOW()),
  ('c0000006-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Manchester University College', 'Manchester', 'United Kingdom', 15.00, NOW(), NOW()),
  
  -- USA (2 colleges)
  ('c0000007-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'New York Institute of Technology', 'New York', 'United States', 25.00, NOW(), NOW()),
  ('c0000008-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Los Angeles Design Academy', 'Los Angeles', 'United States', 20.00, NOW(), NOW()),
  
  -- Canada (2 colleges)
  ('c0000009-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Toronto Global College', 'Toronto', 'Canada', 15.00, NOW(), NOW()),
  ('c0000010-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Vancouver International Institute', 'Vancouver', 'Canada', 10.00, NOW(), NOW());

-- ============================================================
-- STEP 7: Create Branches (10 branches, one per college)
-- ============================================================

INSERT INTO branches (id, college_id, agency_id, name, city, created_at, updated_at)
VALUES
  ('b0000001-0000-0000-0000-000000000001', 'c0000001-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Sydney', NOW(), NOW()),
  ('b0000002-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Melbourne', NOW(), NOW()),
  ('b0000003-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Brisbane', NOW(), NOW()),
  ('b0000004-0000-0000-0000-000000000001', 'c0000004-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Perth', NOW(), NOW()),
  ('b0000005-0000-0000-0000-000000000001', 'c0000005-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'London', NOW(), NOW()),
  ('b0000006-0000-0000-0000-000000000001', 'c0000006-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Manchester', NOW(), NOW()),
  ('b0000007-0000-0000-0000-000000000001', 'c0000007-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'New York', NOW(), NOW()),
  ('b0000008-0000-0000-0000-000000000001', 'c0000008-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Los Angeles', NOW(), NOW()),
  ('b0000009-0000-0000-0000-000000000001', 'c0000009-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Toronto', NOW(), NOW()),
  ('b0000010-0000-0000-0000-000000000001', 'c0000010-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Main Campus', 'Vancouver', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 8: Create Students (30 students from 5 countries)
-- Distribution: India (10), China (8), Nepal (6), Vietnam (4), Philippines (2)
-- ============================================================

BEGIN;

INSERT INTO students (id, agency_id, full_name, email, phone, passport_number, date_of_birth, nationality, created_at, updated_at)
VALUES
  -- India (10 students)
  ('a0000001-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Raj Kumar Singh', 'raj.kumar@email.com', '+91-9876543210', 'P1234567', '1998-03-15', 'India', NOW(), NOW()),
  ('a0000002-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Priya Sharma', 'priya.sharma@email.com', '+91-9876543211', 'P1234568', '1999-07-22', 'India', NOW(), NOW()),
  ('a0000003-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Amit Patel', 'amit.patel@email.com', '+91-9876543212', 'P1234569', '1997-11-08', 'India', NOW(), NOW()),
  ('a0000004-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Sneha Reddy', 'sneha.reddy@email.com', '+91-9876543213', 'P1234570', '2000-01-30', 'India', NOW(), NOW()),
  ('a0000005-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Vikram Rao', 'vikram.rao@email.com', '+91-9876543214', 'P1234571', '1998-09-12', 'India', NOW(), NOW()),
  ('a0000006-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Anjali Gupta', 'anjali.gupta@email.com', '+91-9876543215', 'P1234572', '1999-05-18', 'India', NOW(), NOW()),
  ('a0000007-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Sanjay Verma', 'sanjay.verma@email.com', '+91-9876543216', 'P1234573', '1997-12-25', 'India', NOW(), NOW()),
  ('a0000008-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Kavita Nair', 'kavita.nair@email.com', '+91-9876543217', 'P1234574', '2000-04-07', 'India', NOW(), NOW()),
  ('a0000009-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Rahul Mehta', 'rahul.mehta@email.com', '+91-9876543218', 'P1234575', '1998-08-19', 'India', NOW(), NOW()),
  ('a0000010-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Deepika Iyer', 'deepika.iyer@email.com', '+91-9876543219', 'P1234576', '1999-02-14', 'India', NOW(), NOW()),
  
  -- China (8 students)
  ('a0000011-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Li Wei', 'li.wei@email.com', '+86-13812345678', 'C1234567', '1999-06-10', 'China', NOW(), NOW()),
  ('a0000012-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Wang Fang', 'wang.fang@email.com', '+86-13812345679', 'C1234568', '1998-10-22', 'China', NOW(), NOW()),
  ('a0000013-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Zhang Min', 'zhang.min@email.com', '+86-13812345680', 'C1234569', '2000-03-15', 'China', NOW(), NOW()),
  ('a0000014-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Liu Yang', 'liu.yang@email.com', '+86-13812345681', 'C1234570', '1997-08-08', 'China', NOW(), NOW()),
  ('a0000015-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Chen Jing', 'chen.jing@email.com', '+86-13812345682', 'C1234571', '1999-12-01', 'China', NOW(), NOW()),
  ('a0000016-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Huang Lei', 'huang.lei@email.com', '+86-13812345683', 'C1234572', '1998-04-20', 'China', NOW(), NOW()),
  ('a0000017-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Zhao Hui', 'zhao.hui@email.com', '+86-13812345684', 'C1234573', '2000-07-30', 'China', NOW(), NOW()),
  ('a0000018-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Wu Xin', 'wu.xin@email.com', '+86-13812345685', 'C1234574', '1999-11-11', 'China', NOW(), NOW()),
  
  -- Nepal (6 students)
  ('a0000019-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Bibek Sharma', 'bibek.sharma@email.com', '+977-9812345678', 'N1234567', '1998-05-12', 'Nepal', NOW(), NOW()),
  ('a0000020-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Samjhana Thapa', 'samjhana.thapa@email.com', '+977-9812345679', 'N1234568', '1999-09-25', 'Nepal', NOW(), NOW()),
  ('a0000021-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Roshan Gurung', 'roshan.gurung@email.com', '+977-9812345680', 'N1234569', '2000-02-18', 'Nepal', NOW(), NOW()),
  ('a0000022-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Sita Rai', 'sita.rai@email.com', '+977-9812345681', 'N1234570', '1997-06-30', 'Nepal', NOW(), NOW()),
  ('a0000023-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Prakash Karki', 'prakash.karki@email.com', '+977-9812345682', 'N1234571', '1998-10-14', 'Nepal', NOW(), NOW()),
  ('a0000024-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Maya Shrestha', 'maya.shrestha@email.com', '+977-9812345683', 'N1234572', '1999-03-07', 'Nepal', NOW(), NOW()),
  
  -- Vietnam (4 students)
  ('a0000025-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Nguyen Van Anh', 'nguyen.anh@email.com', '+84-912345678', 'V1234567', '1999-04-22', 'Vietnam', NOW(), NOW()),
  ('a0000026-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Tran Thi Lan', 'tran.lan@email.com', '+84-912345679', 'V1234568', '1998-08-15', 'Vietnam', NOW(), NOW()),
  ('a0000027-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Le Hoang Nam', 'le.nam@email.com', '+84-912345680', 'V1234569', '2000-01-10', 'Vietnam', NOW(), NOW()),
  ('a0000028-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Pham Minh Hieu', 'pham.hieu@email.com', '+84-912345681', 'V1234570', '1997-12-05', 'Vietnam', NOW(), NOW()),
  
  -- Philippines (2 students)
  ('a0000029-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Maria Santos', 'maria.santos@email.com', '+63-9171234567', 'F1234567', '1999-07-18', 'Philippines', NOW(), NOW()),
  ('a0000030-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'Jose Reyes', 'jose.reyes@email.com', '+63-9171234568', 'F1234568', '1998-11-28', 'Philippines', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 9: Create Enrollments (30 enrollments, one per student)
-- ============================================================

BEGIN;

INSERT INTO enrollments (id, agency_id, student_id, branch_id, program_name, status, created_at, updated_at)
VALUES
  ('e0000001-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000001-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 'Bachelor of Business Administration', 'active', NOW(), NOW()),
  ('e0000002-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000002-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 'Master of Information Technology', 'active', NOW(), NOW()),
  ('e0000003-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000003-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 'Bachelor of Computer Science', 'active', NOW(), NOW()),
  ('e0000004-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000004-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000001', 'Master of Business Administration', 'active', NOW(), NOW()),
  ('e0000005-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000005-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000001', 'Bachelor of Accounting', 'active', NOW(), NOW()),
  ('e0000006-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000006-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000001', 'Diploma in Marketing', 'active', NOW(), NOW()),
  ('e0000007-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000007-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000001', 'Bachelor of Engineering', 'active', NOW(), NOW()),
  ('e0000008-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000008-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000001', 'Master of Data Science', 'active', NOW(), NOW()),
  ('e0000009-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000009-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000001', 'Certificate in Web Development', 'completed', NOW(), NOW()),
  ('e0000010-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000010-0000-0000-0000-000000000001', 'b0000004-0000-0000-0000-000000000001', 'Bachelor of Fine Arts', 'active', NOW(), NOW()),
  
  ('e0000011-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000011-0000-0000-0000-000000000001', 'b0000005-0000-0000-0000-000000000001', 'Master of Finance', 'active', NOW(), NOW()),
  ('e0000012-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000012-0000-0000-0000-000000000001', 'b0000005-0000-0000-0000-000000000001', 'Bachelor of Economics', 'active', NOW(), NOW()),
  ('e0000013-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000013-0000-0000-0000-000000000001', 'b0000005-0000-0000-0000-000000000001', 'Diploma in Business Management', 'active', NOW(), NOW()),
  ('e0000014-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000014-0000-0000-0000-000000000001', 'b0000006-0000-0000-0000-000000000001', 'Bachelor of International Relations', 'active', NOW(), NOW()),
  ('e0000015-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000015-0000-0000-0000-000000000001', 'b0000006-0000-0000-0000-000000000001', 'Master of Public Policy', 'active', NOW(), NOW()),
  ('e0000016-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000016-0000-0000-0000-000000000001', 'b0000007-0000-0000-0000-000000000001', 'Bachelor of Software Engineering', 'active', NOW(), NOW()),
  ('e0000017-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000017-0000-0000-0000-000000000001', 'b0000007-0000-0000-0000-000000000001', 'Master of Artificial Intelligence', 'active', NOW(), NOW()),
  ('e0000018-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000018-0000-0000-0000-000000000001', 'b0000007-0000-0000-0000-000000000001', 'Certificate in Cybersecurity', 'cancelled', NOW(), NOW()),
  
  ('e0000019-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000019-0000-0000-0000-000000000001', 'b0000008-0000-0000-0000-000000000001', 'Bachelor of Graphic Design', 'active', NOW(), NOW()),
  ('e0000020-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000020-0000-0000-0000-000000000001', 'b0000008-0000-0000-0000-000000000001', 'Master of Digital Media', 'active', NOW(), NOW()),
  ('e0000021-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000021-0000-0000-0000-000000000001', 'b0000008-0000-0000-0000-000000000001', 'Diploma in UX Design', 'active', NOW(), NOW()),
  ('e0000022-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000022-0000-0000-0000-000000000001', 'b0000009-0000-0000-0000-000000000001', 'Bachelor of Healthcare Management', 'active', NOW(), NOW()),
  ('e0000023-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000023-0000-0000-0000-000000000001', 'b0000009-0000-0000-0000-000000000001', 'Master of Public Health', 'active', NOW(), NOW()),
  ('e0000024-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000024-0000-0000-0000-000000000001', 'b0000009-0000-0000-0000-000000000001', 'Certificate in Project Management', 'active', NOW(), NOW()),
  
  ('e0000025-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000025-0000-0000-0000-000000000001', 'b0000010-0000-0000-0000-000000000001', 'Bachelor of Environmental Science', 'active', NOW(), NOW()),
  ('e0000026-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000026-0000-0000-0000-000000000001', 'b0000010-0000-0000-0000-000000000001', 'Master of Sustainability', 'active', NOW(), NOW()),
  ('e0000027-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000027-0000-0000-0000-000000000001', 'b0000010-0000-0000-0000-000000000001', 'Diploma in Tourism Management', 'active', NOW(), NOW()),
  ('e0000028-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000028-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 'Bachelor of Commerce', 'active', NOW(), NOW()),
  ('e0000029-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000029-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000001', 'Master of Human Resources', 'active', NOW(), NOW()),
  ('e0000030-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'a0000030-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000001', 'Bachelor of Hospitality Management', 'active', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 10: Create Payment Plans (30 payment plans)
-- Varied amounts, commission rates, and statuses
-- ============================================================

BEGIN;

INSERT INTO payment_plans (id, agency_id, enrollment_id, total_amount, commission_rate_percent, start_date, status, created_at, updated_at)
VALUES
  ('d0000001-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000001-0000-0000-0000-000000000001', 25000.00, 20.00, CURRENT_DATE - INTERVAL '6 months', 'active', NOW(), NOW()),
  ('d0000002-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000002-0000-0000-0000-000000000001', 35000.00, 20.00, CURRENT_DATE - INTERVAL '5 months', 'active', NOW(), NOW()),
  ('d0000003-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000003-0000-0000-0000-000000000001', 28000.00, 20.00, CURRENT_DATE - INTERVAL '4 months', 'active', NOW(), NOW()),
  ('d0000004-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000004-0000-0000-0000-000000000001', 40000.00, 15.00, CURRENT_DATE - INTERVAL '8 months', 'active', NOW(), NOW()),
  ('d0000005-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000005-0000-0000-0000-000000000001', 22000.00, 15.00, CURRENT_DATE - INTERVAL '7 months', 'active', NOW(), NOW()),
  ('d0000006-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000006-0000-0000-0000-000000000001', 15000.00, 15.00, CURRENT_DATE - INTERVAL '3 months', 'active', NOW(), NOW()),
  ('d0000007-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000007-0000-0000-0000-000000000001', 45000.00, 25.00, CURRENT_DATE - INTERVAL '9 months', 'active', NOW(), NOW()),
  ('d0000008-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000008-0000-0000-0000-000000000001', 38000.00, 25.00, CURRENT_DATE - INTERVAL '6 months', 'active', NOW(), NOW()),
  ('d0000009-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000009-0000-0000-0000-000000000001', 12000.00, 25.00, CURRENT_DATE - INTERVAL '12 months', 'completed', NOW(), NOW()),
  ('d0000010-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000010-0000-0000-0000-000000000001', 30000.00, 10.00, CURRENT_DATE - INTERVAL '5 months', 'active', NOW(), NOW()),
  
  ('d0000011-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000011-0000-0000-0000-000000000001', 42000.00, 20.00, CURRENT_DATE - INTERVAL '10 months', 'active', NOW(), NOW()),
  ('d0000012-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000012-0000-0000-0000-000000000001', 26000.00, 20.00, CURRENT_DATE - INTERVAL '7 months', 'active', NOW(), NOW()),
  ('d0000013-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000013-0000-0000-0000-000000000001', 18000.00, 20.00, CURRENT_DATE - INTERVAL '4 months', 'active', NOW(), NOW()),
  ('d0000014-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000014-0000-0000-0000-000000000001', 32000.00, 15.00, CURRENT_DATE - INTERVAL '8 months', 'active', NOW(), NOW()),
  ('d0000015-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000015-0000-0000-0000-000000000001', 36000.00, 15.00, CURRENT_DATE - INTERVAL '6 months', 'active', NOW(), NOW()),
  ('d0000016-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000016-0000-0000-0000-000000000001', 48000.00, 25.00, CURRENT_DATE - INTERVAL '9 months', 'active', NOW(), NOW()),
  ('d0000017-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000017-0000-0000-0000-000000000001', 50000.00, 25.00, CURRENT_DATE - INTERVAL '11 months', 'active', NOW(), NOW()),
  ('d0000018-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000018-0000-0000-0000-000000000001', 8000.00, 25.00, CURRENT_DATE - INTERVAL '2 months', 'cancelled', NOW(), NOW()),
  
  ('d0000019-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000019-0000-0000-0000-000000000001', 28000.00, 20.00, CURRENT_DATE - INTERVAL '7 months', 'active', NOW(), NOW()),
  ('d0000020-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000020-0000-0000-0000-000000000001', 34000.00, 20.00, CURRENT_DATE - INTERVAL '8 months', 'active', NOW(), NOW()),
  ('d0000021-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000021-0000-0000-0000-000000000001', 16000.00, 20.00, CURRENT_DATE - INTERVAL '3 months', 'active', NOW(), NOW()),
  ('d0000022-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000022-0000-0000-0000-000000000001', 29000.00, 15.00, CURRENT_DATE - INTERVAL '6 months', 'active', NOW(), NOW()),
  ('d0000023-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000023-0000-0000-0000-000000000001', 37000.00, 15.00, CURRENT_DATE - INTERVAL '9 months', 'active', NOW(), NOW()),
  ('d0000024-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000024-0000-0000-0000-000000000001', 14000.00, 15.00, CURRENT_DATE - INTERVAL '4 months', 'active', NOW(), NOW()),
  
  ('d0000025-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000025-0000-0000-0000-000000000001', 27000.00, 10.00, CURRENT_DATE - INTERVAL '5 months', 'active', NOW(), NOW()),
  ('d0000026-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000026-0000-0000-0000-000000000001', 39000.00, 10.00, CURRENT_DATE - INTERVAL '10 months', 'active', NOW(), NOW()),
  ('d0000027-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000027-0000-0000-0000-000000000001', 13000.00, 10.00, CURRENT_DATE - INTERVAL '3 months', 'active', NOW(), NOW()),
  ('d0000028-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000028-0000-0000-0000-000000000001', 24000.00, 20.00, CURRENT_DATE - INTERVAL '7 months', 'active', NOW(), NOW()),
  ('d0000029-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000029-0000-0000-0000-000000000001', 33000.00, 15.00, CURRENT_DATE - INTERVAL '6 months', 'active', NOW(), NOW()),
  ('d0000030-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'e0000030-0000-0000-0000-000000000001', 21000.00, 25.00, CURRENT_DATE - INTERVAL '4 months', 'active', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 11: Create Installments - OVERDUE (20 total)
-- Critical for /api/overdue-payments testing
-- ============================================================

BEGIN;

-- Recently overdue (1-7 days): 7 installments
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  ('f00000d0-0010-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 3, 1500.00, true, CURRENT_DATE - INTERVAL '1 day', 'overdue', NOW(), NOW()),
  ('f00000d0-0020-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 2, 2000.00, true, CURRENT_DATE - INTERVAL '3 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0030-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000003-0000-0000-0000-000000000001', 4, 800.00, true, CURRENT_DATE - INTERVAL '5 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0040-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 3, 1200.00, true, CURRENT_DATE - INTERVAL '2 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0050-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 2, 1800.00, true, CURRENT_DATE - INTERVAL '4 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0060-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000006-0000-0000-0000-000000000001', 1, 500.00, true, CURRENT_DATE - INTERVAL '6 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0070-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 5, 1700.00, true, CURRENT_DATE - INTERVAL '7 days', 'overdue', NOW(), NOW());

-- Moderately overdue (8-30 days): 7 installments
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  ('f00000d0-0080-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000001', 2, 3500.00, true, CURRENT_DATE - INTERVAL '10 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0090-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 3, 2800.00, true, CURRENT_DATE - INTERVAL '15 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0100-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 4, 4200.00, true, CURRENT_DATE - INTERVAL '18 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0110-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000012-0000-0000-0000-000000000001', 2, 1500.00, true, CURRENT_DATE - INTERVAL '12 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0120-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000013-0000-0000-0000-000000000001', 3, 2200.00, true, CURRENT_DATE - INTERVAL '20 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0130-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000014-0000-0000-0000-000000000001', 4, 3800.00, true, CURRENT_DATE - INTERVAL '25 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0140-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000015-0000-0000-0000-000000000001', 3, 4500.00, true, CURRENT_DATE - INTERVAL '28 days', 'overdue', NOW(), NOW());

-- Severely overdue (30-90 days): 6 installments
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  ('f00000d0-0150-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000016-0000-0000-0000-000000000001', 2, 8000.00, true, CURRENT_DATE - INTERVAL '35 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0160-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 3, 9500.00, true, CURRENT_DATE - INTERVAL '45 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0170-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 4, 5000.00, true, CURRENT_DATE - INTERVAL '60 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0180-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 3, 6200.00, true, CURRENT_DATE - INTERVAL '50 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0190-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 2, 7500.00, true, CURRENT_DATE - INTERVAL '75 days', 'overdue', NOW(), NOW()),
  ('f00000d0-0200-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 5, 10000.00, true, CURRENT_DATE - INTERVAL '85 days', 'overdue', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 12: Create Installments - PAID (70 total)
-- Critical for commission tracking, seasonal trends, and top schools/countries
-- Distributed across last 12 months with calculated paid amounts
-- ============================================================

BEGIN;

-- Month -12 (12 months ago): $8,000 commission (quiet month)
-- Payment Plan p0000001 (20% commission) - needs $40,000 in payments for $8,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0010-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 1, 5000.00, true, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '12 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0020-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 1, 7000.00, true, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '12 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0030-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000003-0000-0000-0000-000000000001', 1, 4000.00, false, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '12 months', 4000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0040-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 1, 6000.00, true, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '12 months', 6000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0050-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 1, 5000.00, true, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '12 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0060-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000006-0000-0000-0000-000000000001', 0, 3000.00, false, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '7 days', CURRENT_DATE - INTERVAL '12 months', 3000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0070-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 1, 9000.00, true, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '12 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0080-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000001', 1, 6000.00, true, CURRENT_DATE - INTERVAL '12 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '12 months', 6000.00, 'paid', NOW(), NOW());
-- Total paid amount: ~40,000, Commission from plans with generates_commission=true at 20%/15%/25% = ~$8,000

-- Month -11: $12,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0190-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 1, 8000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '11 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0110-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 1, 10000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '11 months', 10000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0111-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000012-0000-0000-0000-000000000001', 1, 7000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '11 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0112-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000013-0000-0000-0000-000000000001', 1, 5000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '11 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0113-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000014-0000-0000-0000-000000000001', 1, 8000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '11 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0114-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000015-0000-0000-0000-000000000001', 1, 9000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '11 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0115-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000016-0000-0000-0000-000000000001', 1, 12000.00, true, CURRENT_DATE - INTERVAL '11 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '11 months', 12000.00, 'paid', NOW(), NOW());
-- Total: ~$12,000 commission

-- Month -10: $18,000 commission (PEAK)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0116-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 1, 15000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '10 months', 15000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0117-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 1, 10000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '10 months', 10000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0118-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 1, 12000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '10 months', 12000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0119-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000021-0000-0000-0000-000000000001', 1, 8000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '10 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0120-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 1, 9000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '10 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0121-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 1, 11000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '10 months', 11000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0122-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000024-0000-0000-0000-000000000001', 1, 7000.00, true, CURRENT_DATE - INTERVAL '10 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '10 months', 7000.00, 'paid', NOW(), NOW());
-- Total: ~$18,000 commission

-- Month -9: $15,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0123-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000001', 1, 10000.00, true, CURRENT_DATE - INTERVAL '9 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '9 months', 10000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0124-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000026-0000-0000-0000-000000000001', 1, 12000.00, true, CURRENT_DATE - INTERVAL '9 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '9 months', 12000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0125-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000027-0000-0000-0000-000000000001', 1, 6000.00, true, CURRENT_DATE - INTERVAL '9 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '9 months', 6000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0126-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 1, 8000.00, true, CURRENT_DATE - INTERVAL '9 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '9 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0127-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000029-0000-0000-0000-000000000001', 1, 9000.00, true, CURRENT_DATE - INTERVAL '9 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '9 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0128-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000030-0000-0000-0000-000000000001', 1, 7000.00, true, CURRENT_DATE - INTERVAL '9 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '9 months', 7000.00, 'paid', NOW(), NOW());
-- Total: ~$15,000 commission

-- Month -8: $10,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0129-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 2, 5000.00, true, CURRENT_DATE - INTERVAL '8 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '8 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0130-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 0, 7000.00, false, CURRENT_DATE - INTERVAL '8 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '8 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0131-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 2, 8000.00, true, CURRENT_DATE - INTERVAL '8 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '8 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0132-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 0, 5000.00, false, CURRENT_DATE - INTERVAL '8 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '8 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0133-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 2, 9000.00, true, CURRENT_DATE - INTERVAL '8 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '8 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0134-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000001', 0, 6000.00, false, CURRENT_DATE - INTERVAL '8 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '8 months', 6000.00, 'paid', NOW(), NOW());
-- Total: ~$10,000 commission

-- Month -7: $7,000 commission (quiet month)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0135-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 2, 6000.00, true, CURRENT_DATE - INTERVAL '7 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '7 months', 6000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0136-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 2, 8000.00, true, CURRENT_DATE - INTERVAL '7 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '7 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0137-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000012-0000-0000-0000-000000000001', 0, 5000.00, false, CURRENT_DATE - INTERVAL '7 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '7 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0138-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000013-0000-0000-0000-000000000001', 2, 4000.00, true, CURRENT_DATE - INTERVAL '7 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '7 months', 4000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0139-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000014-0000-0000-0000-000000000001', 2, 7000.00, true, CURRENT_DATE - INTERVAL '7 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '7 months', 7000.00, 'paid', NOW(), NOW());
-- Total: ~$7,000 commission

COMMIT;

BEGIN;

-- Month -6: $14,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0140-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000015-0000-0000-0000-000000000001', 2, 9000.00, true, CURRENT_DATE - INTERVAL '6 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '6 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0141-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000016-0000-0000-0000-000000000001', 0, 10000.00, false, CURRENT_DATE - INTERVAL '6 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '6 months', 10000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0142-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 2, 12000.00, true, CURRENT_DATE - INTERVAL '6 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '6 months', 12000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0143-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 2, 7000.00, true, CURRENT_DATE - INTERVAL '6 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '6 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0144-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 2, 8000.00, true, CURRENT_DATE - INTERVAL '6 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '6 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0145-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000021-0000-0000-0000-000000000001', 2, 6000.00, true, CURRENT_DATE - INTERVAL '6 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '6 months', 6000.00, 'paid', NOW(), NOW());
-- Total: ~$14,000 commission

-- Month -5: $20,000 commission (PEAK)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0146-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 0, 8000.00, false, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '5 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0147-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 2, 11000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '5 months', 11000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0148-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000024-0000-0000-0000-000000000001', 2, 6000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '5 months', 6000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0149-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000001', 2, 10000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '5 months', 10000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0150-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000026-0000-0000-0000-000000000001', 2, 13000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '5 months', 13000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0151-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000027-0000-0000-0000-000000000001', 2, 5000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '5 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0152-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 2, 9000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '5 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0153-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000029-0000-0000-0000-000000000001', 2, 10000.00, true, CURRENT_DATE - INTERVAL '5 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '5 months', 10000.00, 'paid', NOW(), NOW());
-- Total: ~$20,000 commission

-- Month -4: $16,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0154-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000030-0000-0000-0000-000000000001', 2, 8000.00, true, CURRENT_DATE - INTERVAL '4 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '4 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0155-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 0, 5000.00, false, CURRENT_DATE - INTERVAL '4 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '4 months', 5000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0156-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 0, 8000.00, false, CURRENT_DATE - INTERVAL '4 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '4 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0157-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 3, 9000.00, true, CURRENT_DATE - INTERVAL '4 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '4 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0158-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 0, 6000.00, false, CURRENT_DATE - INTERVAL '4 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '4 months', 6000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0159-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 3, 10000.00, true, CURRENT_DATE - INTERVAL '4 months' - INTERVAL '1 day', CURRENT_DATE - INTERVAL '4 months', 10000.00, 'paid', NOW(), NOW());
-- Total: ~$16,000 commission

-- Month -3: $11,000 commission
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0160-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000015-0000-0000-0000-000000000001', 0, 9000.00, false, CURRENT_DATE - INTERVAL '3 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '3 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0161-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 3, 7000.00, true, CURRENT_DATE - INTERVAL '3 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '3 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0162-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 1, 7000.00, true, CURRENT_DATE - INTERVAL '3 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '3 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0163-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000001', 3, 8000.00, true, CURRENT_DATE - INTERVAL '3 months' - INTERVAL '4 days', CURRENT_DATE - INTERVAL '3 months', 8000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0164-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 3, 6000.00, true, CURRENT_DATE - INTERVAL '3 months' - INTERVAL '6 days', CURRENT_DATE - INTERVAL '3 months', 6000.00, 'paid', NOW(), NOW());
-- Total: ~$11,000 commission

-- Month -2: $9,000 commission (quiet month)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0165-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000030-0000-0000-0000-000000000001', 3, 7000.00, true, CURRENT_DATE - INTERVAL '2 months' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '2 months', 7000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0166-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 3, 9000.00, true, CURRENT_DATE - INTERVAL '2 months' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '2 months', 9000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0167-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000026-0000-0000-0000-000000000001', 3, 10000.00, true, CURRENT_DATE - INTERVAL '2 months' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '2 months', 10000.00, 'paid', NOW(), NOW());
-- Total: ~$9,000 commission

-- Month -1 (last month): $17,000 commission (PEAK) - for trend comparison
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000ad0-0168-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 0, 12000.00, false, CURRENT_DATE - INTERVAL '1 month' - INTERVAL '5 days', CURRENT_DATE - INTERVAL '1 month', 12000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0169-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 0, 10000.00, false, CURRENT_DATE - INTERVAL '1 month' - INTERVAL '3 days', CURRENT_DATE - INTERVAL '1 month', 10000.00, 'paid', NOW(), NOW()),
  ('f0000ad0-0170-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000029-0000-0000-0000-000000000001', 3, 11000.00, true, CURRENT_DATE - INTERVAL '1 month' - INTERVAL '2 days', CURRENT_DATE - INTERVAL '1 month', 11000.00, 'paid', NOW(), NOW());
-- Total: ~$17,000 commission (note: initial payments don't generate commission)

COMMIT;

-- ============================================================
-- STEP 13: Create CURRENT MONTH Paid Installments
-- Strategically distributed by college and student nationality
-- For /api/commission-by-school and /api/commission-by-country
-- ============================================================

BEGIN;

-- Sydney International College (c0000001, 20% commission) - TOP SCHOOL: $12,000 commission
-- Needs $60,000 in paid amounts for $12,000 commission
-- Students: s0000001 (India), s0000002 (India), s0000003 (India), s0000028 (Vietnam)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000cd0-0001-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 4, 8000.00, true, CURRENT_DATE - INTERVAL '5 days', CURRENT_DATE - INTERVAL '2 days', 8000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0002-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 3, 10000.00, true, CURRENT_DATE - INTERVAL '7 days', CURRENT_DATE - INTERVAL '3 days', 10000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0003-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000003-0000-0000-0000-000000000001', 2, 7000.00, true, CURRENT_DATE - INTERVAL '10 days', CURRENT_DATE - INTERVAL '5 days', 7000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0004-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 4, 6000.00, true, CURRENT_DATE - INTERVAL '8 days', CURRENT_DATE - INTERVAL '4 days', 6000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0005-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 5, 9000.00, true, CURRENT_DATE - INTERVAL '6 days', CURRENT_DATE - INTERVAL '1 day', 9000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0006-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 4, 10000.00, true, CURRENT_DATE - INTERVAL '4 days', CURRENT_DATE - INTERVAL '1 day', 10000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0007-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000003-0000-0000-0000-000000000001', 3, 5000.00, true, CURRENT_DATE - INTERVAL '3 days', CURRENT_DATE, 5000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0008-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 5, 5000.00, true, CURRENT_DATE - INTERVAL '2 days', CURRENT_DATE, 5000.00, 'paid', NOW(), NOW());
-- Sydney Total paid: $60,000, Commission (20%): $12,000

-- Melbourne Business School (c0000002, 15% commission) - 2nd SCHOOL: $9,000 commission
-- Needs $60,000 in paid amounts for $9,000 commission
-- Students: s0000004 (India), s0000005 (India), s0000006 (India), s0000029 (Philippines)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000cd0-0009-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 5, 12000.00, true, CURRENT_DATE - INTERVAL '9 days', CURRENT_DATE - INTERVAL '6 days', 12000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0010-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 3, 8000.00, true, CURRENT_DATE - INTERVAL '7 days', CURRENT_DATE - INTERVAL '4 days', 8000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0011-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000006-0000-0000-0000-000000000001', 2, 7000.00, true, CURRENT_DATE - INTERVAL '5 days', CURRENT_DATE - INTERVAL '2 days', 7000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0012-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000029-0000-0000-0000-000000000001', 4, 11000.00, true, CURRENT_DATE - INTERVAL '6 days', CURRENT_DATE - INTERVAL '3 days', 11000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0013-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 6, 10000.00, true, CURRENT_DATE - INTERVAL '4 days', CURRENT_DATE - INTERVAL '1 day', 10000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0014-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 4, 12000.00, true, CURRENT_DATE - INTERVAL '3 days', CURRENT_DATE, 12000.00, 'paid', NOW(), NOW());
-- Melbourne Total paid: $60,000, Commission (15%): $9,000

-- Brisbane Tech Institute (c0000003, 25% commission) - 3rd SCHOOL: $7,500 commission
-- Needs $30,000 in paid amounts for $7,500 commission
-- Students: s0000007 (India), s0000008 (India), s0000009 (India), s0000030 (Philippines)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000cd0-0015-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 4, 9000.00, true, CURRENT_DATE - INTERVAL '8 days', CURRENT_DATE - INTERVAL '5 days', 9000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0016-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000001', 3, 8000.00, true, CURRENT_DATE - INTERVAL '6 days', CURRENT_DATE - INTERVAL '3 days', 8000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0017-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000009-0000-0000-0000-000000000001', 1, 5000.00, true, CURRENT_DATE - INTERVAL '4 days', CURRENT_DATE - INTERVAL '2 days', 5000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0018-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000030-0000-0000-0000-000000000001', 4, 4000.00, true, CURRENT_DATE - INTERVAL '5 days', CURRENT_DATE - INTERVAL '1 day', 4000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0019-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 6, 4000.00, true, CURRENT_DATE - INTERVAL '2 days', CURRENT_DATE, 4000.00, 'paid', NOW(), NOW());
-- Brisbane Total paid: $30,000, Commission (25%): $7,500

-- London School of Business (c0000005, 20% commission) - 4th SCHOOL: $5,000 commission
-- Needs $25,000 in paid amounts for $5,000 commission
-- Students: s0000011 (China), s0000012 (China), s0000013 (China)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000cd0-0020-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 5, 8000.00, true, CURRENT_DATE - INTERVAL '7 days', CURRENT_DATE - INTERVAL '4 days', 8000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0021-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000012-0000-0000-0000-000000000001', 3, 9000.00, true, CURRENT_DATE - INTERVAL '5 days', CURRENT_DATE - INTERVAL '2 days', 9000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0022-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000013-0000-0000-0000-000000000001', 4, 8000.00, true, CURRENT_DATE - INTERVAL '3 days', CURRENT_DATE - INTERVAL '1 day', 8000.00, 'paid', NOW(), NOW());
-- London Total paid: $25,000, Commission (20%): $5,000

-- New York Institute of Technology (c0000007, 25% commission) - 5th SCHOOL: $3,500 commission
-- Needs $14,000 in paid amounts for $3,500 commission
-- Students: s0000016 (China), s0000017 (China)
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000cd0-0023-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000016-0000-0000-0000-000000000001', 3, 9000.00, true, CURRENT_DATE - INTERVAL '6 days', CURRENT_DATE - INTERVAL '3 days', 9000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0024-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 4, 5000.00, true, CURRENT_DATE - INTERVAL '4 days', CURRENT_DATE - INTERVAL '1 day', 5000.00, 'paid', NOW(), NOW());
-- NY Total paid: $14,000, Commission (25%): $3,500

-- Additional current month payments for other colleges (smaller amounts)
-- Perth College, Los Angeles Design Academy, Toronto Global, Vancouver Institute
-- Students from Nepal, China, Vietnam - to boost country commission totals
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, paid_date, paid_amount, status, created_at, updated_at)
VALUES
  ('f0000cd0-0025-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 4, 5000.00, true, CURRENT_DATE - INTERVAL '5 days', CURRENT_DATE - INTERVAL '2 days', 5000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0026-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 5, 6000.00, true, CURRENT_DATE - INTERVAL '6 days', CURRENT_DATE - INTERVAL '3 days', 6000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0027-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 4, 7000.00, true, CURRENT_DATE - INTERVAL '4 days', CURRENT_DATE - INTERVAL '1 day', 7000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0028-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000021-0000-0000-0000-000000000001', 3, 4000.00, true, CURRENT_DATE - INTERVAL '3 days', CURRENT_DATE, 4000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0029-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 4, 6000.00, true, CURRENT_DATE - INTERVAL '7 days', CURRENT_DATE - INTERVAL '4 days', 6000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0030-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 4, 8000.00, true, CURRENT_DATE - INTERVAL '5 days', CURRENT_DATE - INTERVAL '2 days', 8000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0031-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000024-0000-0000-0000-000000000001', 3, 5000.00, true, CURRENT_DATE - INTERVAL '4 days', CURRENT_DATE - INTERVAL '1 day', 5000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0032-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000001', 4, 6000.00, true, CURRENT_DATE - INTERVAL '6 days', CURRENT_DATE - INTERVAL '3 days', 6000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0033-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000026-0000-0000-0000-000000000001', 4, 7000.00, true, CURRENT_DATE - INTERVAL '3 days', CURRENT_DATE, 7000.00, 'paid', NOW(), NOW()),
  ('f0000cd0-0034-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000027-0000-0000-0000-000000000001', 3, 4000.00, true, CURRENT_DATE - INTERVAL '2 days', CURRENT_DATE, 4000.00, 'paid', NOW(), NOW());

-- Current month summary:
-- Top 5 schools by commission:
-- 1. Sydney: $12,000
-- 2. Melbourne: $9,000
-- 3. Brisbane: $7,500
-- 4. London: $5,000
-- 5. New York: $3,500
-- Others: varies
--
-- Country distribution (based on student nationality):
-- India: s0000001-s0000010  highest commission
-- China: s0000011-s0000018  second highest
-- Nepal: s0000019-s0000024  third
-- Vietnam: s0000025-s0000028  fourth
-- Philippines: s0000029-s0000030  fifth

COMMIT;

-- ============================================================
-- STEP 14: Create Installments - PENDING (50 total)
-- For /api/due-soon-count and /api/cash-flow-projection
-- Distributed across next 90 days
-- ============================================================

BEGIN;

-- Due in next 7 days (15 installments) - for /api/due-soon-count
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  -- Today (2 installments)
  ('f0000ed0-0001-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 6, 3000.00, true, CURRENT_DATE, 'pending', NOW(), NOW()),
  ('f0000ed0-0002-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 5, 4000.00, true, CURRENT_DATE, 'pending', NOW(), NOW()),
  
  -- Tomorrow (2 installments)
  ('f0000ed0-0003-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000003-0000-0000-0000-000000000001', 5, 3500.00, true, CURRENT_DATE + INTERVAL '1 day', 'pending', NOW(), NOW()),
  ('f0000ed0-0004-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 7, 5000.00, true, CURRENT_DATE + INTERVAL '1 day', 'pending', NOW(), NOW()),
  
  -- Day +2 (3 installments)
  ('f0000ed0-0005-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 5, 3000.00, true, CURRENT_DATE + INTERVAL '2 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0006-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000006-0000-0000-0000-000000000001', 3, 2500.00, true, CURRENT_DATE + INTERVAL '2 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0007-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 7, 4500.00, true, CURRENT_DATE + INTERVAL '2 days', 'pending', NOW(), NOW()),
  
  -- Days +3 to +7 (8 installments)
  ('f0000ed0-0008-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000001', 4, 4000.00, true, CURRENT_DATE + INTERVAL '3 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0009-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 5, 3500.00, true, CURRENT_DATE + INTERVAL '4 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0010-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 6, 5000.00, true, CURRENT_DATE + INTERVAL '5 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0011-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000012-0000-0000-0000-000000000001', 4, 3000.00, true, CURRENT_DATE + INTERVAL '5 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0012-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000013-0000-0000-0000-000000000001', 5, 2500.00, true, CURRENT_DATE + INTERVAL '6 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0013-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000014-0000-0000-0000-000000000001', 5, 4000.00, true, CURRENT_DATE + INTERVAL '6 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0014-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000015-0000-0000-0000-000000000001', 4, 3500.00, true, CURRENT_DATE + INTERVAL '7 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0015-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000016-0000-0000-0000-000000000001', 4, 4500.00, true, CURRENT_DATE + INTERVAL '7 days', 'pending', NOW(), NOW());
-- Total due in next 7 days: 15 installments, ~$50,000

-- Days +8 to +30 (20 installments) - for cash flow projection week 2-4
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  ('f0000ed0-0016-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 5, 6000.00, true, CURRENT_DATE + INTERVAL '10 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0017-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 6, 4000.00, true, CURRENT_DATE + INTERVAL '12 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0018-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 5, 5000.00, true, CURRENT_DATE + INTERVAL '14 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0019-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000021-0000-0000-0000-000000000001', 4, 3000.00, true, CURRENT_DATE + INTERVAL '15 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0020-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 5, 4500.00, true, CURRENT_DATE + INTERVAL '16 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0021-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 6, 5500.00, true, CURRENT_DATE + INTERVAL '18 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0022-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000024-0000-0000-0000-000000000001', 4, 2500.00, true, CURRENT_DATE + INTERVAL '20 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0023-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000001', 5, 4000.00, true, CURRENT_DATE + INTERVAL '21 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0024-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000026-0000-0000-0000-000000000001', 5, 6000.00, true, CURRENT_DATE + INTERVAL '22 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0025-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000027-0000-0000-0000-000000000001', 4, 3500.00, true, CURRENT_DATE + INTERVAL '23 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0026-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 6, 3000.00, true, CURRENT_DATE + INTERVAL '24 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0027-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000029-0000-0000-0000-000000000001', 5, 5000.00, true, CURRENT_DATE + INTERVAL '25 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0028-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000030-0000-0000-0000-000000000001', 5, 4000.00, true, CURRENT_DATE + INTERVAL '26 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0029-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 7, 4500.00, true, CURRENT_DATE + INTERVAL '27 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0030-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000002-0000-0000-0000-000000000001', 6, 5500.00, true, CURRENT_DATE + INTERVAL '28 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0031-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000003-0000-0000-0000-000000000001', 6, 3500.00, true, CURRENT_DATE + INTERVAL '29 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0032-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000004-0000-0000-0000-000000000001', 8, 6000.00, true, CURRENT_DATE + INTERVAL '11 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0033-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000005-0000-0000-0000-000000000001', 6, 3000.00, true, CURRENT_DATE + INTERVAL '13 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0034-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000006-0000-0000-0000-000000000001', 4, 2500.00, true, CURRENT_DATE + INTERVAL '17 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0035-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000007-0000-0000-0000-000000000001', 8, 5000.00, true, CURRENT_DATE + INTERVAL '19 days', 'pending', NOW(), NOW());

-- Days +31 to +90 (15 installments) - for longer-term cash flow projection
INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  ('f0000ed0-0036-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000001', 5, 5000.00, true, CURRENT_DATE + INTERVAL '35 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0037-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000001', 6, 4000.00, true, CURRENT_DATE + INTERVAL '40 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0038-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000001', 7, 6000.00, true, CURRENT_DATE + INTERVAL '45 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0039-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000012-0000-0000-0000-000000000001', 5, 3500.00, true, CURRENT_DATE + INTERVAL '50 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0040-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000013-0000-0000-0000-000000000001', 6, 3000.00, true, CURRENT_DATE + INTERVAL '55 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0041-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000014-0000-0000-0000-000000000001', 6, 4500.00, true, CURRENT_DATE + INTERVAL '60 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0042-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000015-0000-0000-0000-000000000001', 5, 5000.00, true, CURRENT_DATE + INTERVAL '65 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0043-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000016-0000-0000-0000-000000000001', 5, 6000.00, true, CURRENT_DATE + INTERVAL '70 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0044-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000017-0000-0000-0000-000000000001', 6, 7000.00, true, CURRENT_DATE + INTERVAL '75 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0045-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000019-0000-0000-0000-000000000001', 7, 4000.00, true, CURRENT_DATE + INTERVAL '80 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0046-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000020-0000-0000-0000-000000000001', 6, 5000.00, true, CURRENT_DATE + INTERVAL '42 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0047-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000021-0000-0000-0000-000000000001', 5, 3500.00, true, CURRENT_DATE + INTERVAL '48 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0048-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000022-0000-0000-0000-000000000001', 6, 4500.00, true, CURRENT_DATE + INTERVAL '58 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0049-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000023-0000-0000-0000-000000000001', 7, 6000.00, true, CURRENT_DATE + INTERVAL '68 days', 'pending', NOW(), NOW()),
  ('f0000ed0-0050-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000024-0000-0000-0000-000000000001', 5, 3000.00, true, CURRENT_DATE + INTERVAL '85 days', 'pending', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 15: Create Installments - CANCELLED (10 total)
-- For /api/payment-status-summary testing
-- ============================================================

BEGIN;

INSERT INTO installments (id, agency_id, payment_plan_id, installment_number, amount, generates_commission, student_due_date, status, created_at, updated_at)
VALUES
  ('f00000c0-0001-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000018-0000-0000-0000-000000000001', 1, 1000.00, true, CURRENT_DATE - INTERVAL '30 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0002-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000018-0000-0000-0000-000000000001', 2, 1500.00, true, CURRENT_DATE - INTERVAL '20 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0003-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000018-0000-0000-0000-000000000001', 3, 2000.00, true, CURRENT_DATE - INTERVAL '10 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0004-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000001', 0, 2500.00, false, CURRENT_DATE + INTERVAL '5 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0005-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000026-0000-0000-0000-000000000001', 0, 3000.00, false, CURRENT_DATE + INTERVAL '10 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0006-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000027-0000-0000-0000-000000000001', 0, 1200.00, false, CURRENT_DATE + INTERVAL '15 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0007-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000028-0000-0000-0000-000000000001', 0, 2400.00, false, CURRENT_DATE - INTERVAL '5 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0008-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000029-0000-0000-0000-000000000001', 0, 3300.00, false, CURRENT_DATE + INTERVAL '20 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0009-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000030-0000-0000-0000-000000000001', 0, 2100.00, false, CURRENT_DATE + INTERVAL '25 days', 'cancelled', NOW(), NOW()),
  ('f00000c0-0010-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 0, 2500.00, false, CURRENT_DATE - INTERVAL '60 days', 'cancelled', NOW(), NOW());

COMMIT;

-- ============================================================
-- STEP 16: Create Activity Log Entries (50 entries)
-- For /api/activity-log testing
-- Distributed across last 7 days with various action types
-- ============================================================

BEGIN;

-- Note: entity_type must be one of: 'payment', 'payment_plan', 'student', 'enrollment', 'installment'
-- Note: action must be one of: 'created', 'recorded', 'updated', 'marked_overdue', 'deleted'

-- Day -7 (7 days ago)
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0001-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000001-0000-0000-0000-000000000001', 'created', 'Created new student: Raj Kumar Singh', '{"student_name": "Raj Kumar Singh", "nationality": "India"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '7 days'),
  ('fa000000-0002-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000002-0000-0000-0000-000000000001', 'created', 'Created new student: Priya Sharma', '{"student_name": "Priya Sharma", "nationality": "India"}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '7 days'),
  ('fa000000-0003-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'enrollment', 'e0000001-0000-0000-0000-000000000001', 'created', 'Created enrollment for Raj Kumar Singh at Sydney International College', '{"student_name": "Raj Kumar Singh", "college_name": "Sydney International College", "program": "Bachelor of Business Administration"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '7 days'),
  ('fa000000-0004-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'payment_plan', 'd0000001-0000-0000-0000-000000000001', 'created', 'Created payment plan for Raj Kumar Singh - $25,000.00', '{"student_name": "Raj Kumar Singh", "amount": 25000.00, "commission_rate": 20.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '7 days'),
  ('fa000000-0005-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000ad0-0010-0000-0000-000000000001', 'recorded', 'Payment received from Raj Kumar Singh - $5,000.00', '{"student_name": "Raj Kumar Singh", "amount": 5000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '7 days');

-- Day -6
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0006-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000011-0000-0000-0000-000000000001', 'created', 'Created new student: Li Wei', '{"student_name": "Li Wei", "nationality": "China"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '6 days'),
  ('fa000000-0007-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'enrollment', 'e0000011-0000-0000-0000-000000000001', 'created', 'Created enrollment for Li Wei at London School of Business', '{"student_name": "Li Wei", "college_name": "London School of Business", "program": "Master of Finance"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '6 days'),
  ('fa000000-0008-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000ad0-0010-0000-0000-000000000001', 'recorded', 'Payment received from Wang Fang - $7,000.00', '{"student_name": "Wang Fang", "amount": 7000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '6 days'),
  ('fa000000-0009-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0050-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Anjali Gupta", "amount": 1800.00, "days_overdue": 4}', NULL, NOW() - INTERVAL '6 days'),
  ('fa000000-0010-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'payment_plan', 'd0000011-0000-0000-0000-000000000001', 'created', 'Created payment plan for Li Wei - $42,000.00', '{"student_name": "Li Wei", "amount": 42000.00, "commission_rate": 20.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '6 days');

-- Day -5
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0011-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000019-0000-0000-0000-000000000001', 'created', 'Created new student: Bibek Sharma', '{"student_name": "Bibek Sharma", "nationality": "Nepal"}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '5 days'),
  ('fa000000-0012-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000ad0-0015-0000-0000-000000000001', 'recorded', 'Payment received from Chen Jing - $9,000.00', '{"student_name": "Chen Jing", "amount": 9000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '5 days'),
  ('fa000000-0013-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000ad0-0016-0000-0000-000000000001', 'recorded', 'Payment received from Huang Lei - $15,000.00', '{"student_name": "Huang Lei", "amount": 15000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '5 days'),
  ('fa000000-0014-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0100-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Deepika Iyer", "amount": 4200.00, "days_overdue": 18}', NULL, NOW() - INTERVAL '5 days'),
  ('fa000000-0015-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'enrollment', 'e0000019-0000-0000-0000-000000000001', 'created', 'Created enrollment for Bibek Sharma at Los Angeles Design Academy', '{"student_name": "Bibek Sharma", "college_name": "Los Angeles Design Academy", "program": "Bachelor of Graphic Design"}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '5 days');

-- Day -4
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0016-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000025-0000-0000-0000-000000000001', 'created', 'Created new student: Nguyen Van Anh', '{"student_name": "Nguyen Van Anh", "nationality": "Vietnam"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '4 days'),
  ('fa000000-0017-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000ad0-0020-0000-0000-000000000001', 'recorded', 'Payment received from Zhao Hui - $9,000.00', '{"student_name": "Zhao Hui", "amount": 9000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '4 days'),
  ('fa000000-0018-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000ad0-0021-0000-0000-000000000001', 'recorded', 'Payment received from Wu Xin - $11,000.00', '{"student_name": "Wu Xin", "amount": 11000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '4 days'),
  ('fa000000-0019-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'payment_plan', 'd0000025-0000-0000-0000-000000000001', 'created', 'Created payment plan for Nguyen Van Anh - $27,000.00', '{"student_name": "Nguyen Van Anh", "amount": 27000.00, "commission_rate": 10.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '4 days'),
  ('fa000000-0020-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0140-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Sanjay Verma", "amount": 4500.00, "days_overdue": 28}', NULL, NOW() - INTERVAL '4 days');

-- Day -3
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0021-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000029-0000-0000-0000-000000000001', 'created', 'Created new student: Maria Santos', '{"student_name": "Maria Santos", "nationality": "Philippines"}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '3 days'),
  ('fa000000-0022-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0001-0000-0000-000000000001', 'recorded', 'Payment received from Raj Kumar Singh - $8,000.00', '{"student_name": "Raj Kumar Singh", "amount": 8000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '3 days'),
  ('fa000000-0023-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0002-0000-0000-000000000001', 'recorded', 'Payment received from Priya Sharma - $10,000.00', '{"student_name": "Priya Sharma", "amount": 10000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '3 days'),
  ('fa000000-0024-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'enrollment', 'e0000029-0000-0000-0000-000000000001', 'created', 'Created enrollment for Maria Santos at Melbourne Business School', '{"student_name": "Maria Santos", "college_name": "Melbourne Business School", "program": "Master of Human Resources"}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '3 days'),
  ('fa000000-0025-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0005-0000-0000-000000000001', 'recorded', 'Payment received from Amit Patel - $7,000.00', '{"student_name": "Amit Patel", "amount": 7000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '3 days');

-- Day -2
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0026-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'student', 'a0000030-0000-0000-0000-000000000001', 'created', 'Created new student: Jose Reyes', '{"student_name": "Jose Reyes", "nationality": "Philippines"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '2 days'),
  ('fa000000-0027-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0009-0000-0000-000000000001', 'recorded', 'Payment received from Sneha Reddy - $12,000.00', '{"student_name": "Sneha Reddy", "amount": 12000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '2 days'),
  ('fa000000-0028-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0010-0000-0000-000000000001', 'recorded', 'Payment received from Vikram Rao - $8,000.00', '{"student_name": "Vikram Rao", "amount": 8000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '2 days'),
  ('fa000000-0029-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'payment_plan', 'd0000030-0000-0000-0000-000000000001', 'created', 'Created payment plan for Jose Reyes - $21,000.00', '{"student_name": "Jose Reyes", "amount": 21000.00, "commission_rate": 25.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '2 days'),
  ('fa000000-0030-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0160-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Vikram Rao", "amount": 9500.00, "days_overdue": 45}', NULL, NOW() - INTERVAL '2 days');

-- Day -1 (yesterday)
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0031-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0011-0000-0000-000000000001', 'recorded', 'Payment received from Anjali Gupta - $7,000.00', '{"student_name": "Anjali Gupta", "amount": 7000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '1 day'),
  ('fa000000-0032-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0013-0000-0000-000000000001', 'recorded', 'Payment received from Sneha Reddy - $10,000.00', '{"student_name": "Sneha Reddy", "amount": 10000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '1 day'),
  ('fa000000-0033-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0015-0000-0000-000000000001', 'recorded', 'Payment received from Sanjay Verma - $9,000.00', '{"student_name": "Sanjay Verma", "amount": 9000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '1 day'),
  ('fa000000-0034-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0018-0000-0000-000000000001', 'recorded', 'Payment received from Jose Reyes - $4,000.00', '{"student_name": "Jose Reyes", "amount": 4000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '1 day'),
  ('fa000000-0035-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0200-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Maya Shrestha", "amount": 10000.00, "days_overdue": 85}', NULL, NOW() - INTERVAL '1 day');

-- Today
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0036-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0019-0000-0000-000000000001', 'recorded', 'Payment received from Sanjay Verma - $4,000.00', '{"student_name": "Sanjay Verma", "amount": 4000.00}', '10000000-0000-0000-0000-000000000001', NOW()),
  ('fa000000-0037-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0022-0000-0000-000000000001', 'recorded', 'Payment received from Zhang Min - $8,000.00', '{"student_name": "Zhang Min", "amount": 8000.00}', '10000000-0000-0000-0000-000000000002', NOW()),
  ('fa000000-0038-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0024-0000-0000-000000000001', 'recorded', 'Payment received from Huang Lei - $5,000.00', '{"student_name": "Huang Lei", "amount": 5000.00}', '10000000-0000-0000-0000-000000000001', NOW()),
  ('fa000000-0039-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0028-0000-0000-000000000001', 'recorded', 'Payment received from Maya Shrestha - $4,000.00', '{"student_name": "Maya Shrestha", "amount": 4000.00}', '10000000-0000-0000-0000-000000000002', NOW()),
  ('fa000000-0040-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0033-0000-0000-000000000001', 'recorded', 'Payment received from Tran Thi Lan - $7,000.00', '{"student_name": "Tran Thi Lan", "amount": 7000.00}', '10000000-0000-0000-0000-000000000001', NOW());

-- Additional recent activities  
INSERT INTO activity_log (id, agency_id, entity_type, entity_id, action, description, metadata, user_id, created_at)
VALUES
  ('fa000000-0041-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0034-0000-0000-000000000001', 'recorded', 'Payment received from Le Hoang Nam - $4,000.00', '{"student_name": "Le Hoang Nam", "amount": 4000.00}', '10000000-0000-0000-0000-000000000002', NOW()),
  ('fa000000-0042-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'enrollment', 'e0000030-0000-0000-0000-000000000001', 'created', 'Created enrollment for Jose Reyes at Brisbane Tech Institute', '{"student_name": "Jose Reyes", "college_name": "Brisbane Tech Institute", "program": "Bachelor of Hospitality Management"}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '6 hours'),
  ('fa000000-0043-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0010-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Raj Kumar Singh", "amount": 1500.00, "days_overdue": 1}', NULL, NOW() - INTERVAL '4 hours'),
  ('fa000000-0044-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f00000d0-0020-0000-0000-000000000001', 'marked_overdue', 'Installment marked as overdue', '{"student_name": "Priya Sharma", "amount": 2000.00, "days_overdue": 3}', NULL, NOW() - INTERVAL '2 hours'),
  ('fa000000-0045-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0007-0000-0000-000000000001', 'recorded', 'Payment received from Amit Patel - $5,000.00', '{"student_name": "Amit Patel", "amount": 5000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '1 hour'),
  ('fa000000-0046-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0008-0000-0000-000000000001', 'recorded', 'Payment received from Nguyen Van Anh - $5,000.00', '{"student_name": "Nguyen Van Anh", "amount": 5000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '30 minutes'),
  ('fa000000-0047-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0012-0000-0000-000000000001', 'recorded', 'Payment received from Maria Santos - $11,000.00', '{"student_name": "Maria Santos", "amount": 11000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '15 minutes'),
  ('fa000000-0048-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0014-0000-0000-000000000001', 'recorded', 'Payment received from Vikram Rao - $12,000.00', '{"student_name": "Vikram Rao", "amount": 12000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '10 minutes'),
  ('fa000000-0049-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0016-0000-0000-000000000001', 'recorded', 'Payment received from Kavita Nair - $8,000.00', '{"student_name": "Kavita Nair", "amount": 8000.00}', '10000000-0000-0000-0000-000000000002', NOW() - INTERVAL '5 minutes'),
  ('fa000000-0050-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', 'installment', 'f0000cd0-0017-0000-0000-000000000001', 'recorded', 'Payment received from Rahul Mehta - $5,000.00', '{"student_name": "Rahul Mehta", "amount": 5000.00}', '10000000-0000-0000-0000-000000000001', NOW() - INTERVAL '2 minutes');

COMMIT;

-- ============================================================
-- STEP 17: Verification Queries
-- Displays comprehensive summary of all seeded data
-- ============================================================

DO $$
DECLARE
  agency_count INTEGER;
  user_count INTEGER;
  college_count INTEGER;
  branch_count INTEGER;
  student_count INTEGER;
  enrollment_count INTEGER;
  payment_plan_count INTEGER;
  installment_count INTEGER;
  installment_overdue_count INTEGER;
  installment_overdue_total DECIMAL(12,2);
  installment_paid_count INTEGER;
  installment_pending_count INTEGER;
  installment_cancelled_count INTEGER;
  installment_due_soon_count INTEGER;
  activity_log_count INTEGER;
  india_student_count INTEGER;
  china_student_count INTEGER;
  nepal_student_count INTEGER;
  vietnam_student_count INTEGER;
  philippines_student_count INTEGER;
BEGIN
  -- Count all records
  SELECT COUNT(*) INTO agency_count FROM public.agencies;
  SELECT COUNT(*) INTO user_count FROM public.users;
  SELECT COUNT(*) INTO college_count FROM colleges;
  SELECT COUNT(*) INTO branch_count FROM branches;
  SELECT COUNT(*) INTO student_count FROM students;
  SELECT COUNT(*) INTO enrollment_count FROM enrollments;
  SELECT COUNT(*) INTO payment_plan_count FROM payment_plans;
  SELECT COUNT(*) INTO installment_count FROM installments;
  SELECT COUNT(*) INTO activity_log_count FROM activity_log;
  
  -- Installment breakdowns
  SELECT COUNT(*), COALESCE(SUM(amount), 0) 
  INTO installment_overdue_count, installment_overdue_total 
  FROM installments WHERE status = 'overdue';
  
  SELECT COUNT(*) INTO installment_paid_count FROM installments WHERE status = 'paid';
  SELECT COUNT(*) INTO installment_pending_count FROM installments WHERE status = 'pending';
  SELECT COUNT(*) INTO installment_cancelled_count FROM installments WHERE status = 'cancelled';
  
  -- Due soon count (next 7 days)
  SELECT COUNT(*) INTO installment_due_soon_count 
  FROM installments 
  WHERE status = 'pending' 
  AND student_due_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '7 days';
  
  -- Student counts by nationality
  SELECT COUNT(*) INTO india_student_count FROM students WHERE nationality = 'India';
  SELECT COUNT(*) INTO china_student_count FROM students WHERE nationality = 'China';
  SELECT COUNT(*) INTO nepal_student_count FROM students WHERE nationality = 'Nepal';
  SELECT COUNT(*) INTO vietnam_student_count FROM students WHERE nationality = 'Vietnam';
  SELECT COUNT(*) INTO philippines_student_count FROM students WHERE nationality = 'Philippines';
  
  -- Display results
  RAISE NOTICE '';
  RAISE NOTICE '==============================================================';
  RAISE NOTICE 'DATABASE SEED SUMMARY';
  RAISE NOTICE '==============================================================';
  RAISE NOTICE '';
  RAISE NOTICE '--- FOUNDATION DATA ---';
  RAISE NOTICE 'Agencies:           %', agency_count;
  RAISE NOTICE 'Users:              %', user_count;
  RAISE NOTICE '';
  RAISE NOTICE '--- ENTITY DATA ---';
  RAISE NOTICE 'Colleges:           %', college_count;
  RAISE NOTICE 'Branches:           %', branch_count;
  RAISE NOTICE 'Students:           %', student_count;
  RAISE NOTICE '  - India:          %', india_student_count;
  RAISE NOTICE '  - China:          %', china_student_count;
  RAISE NOTICE '  - Nepal:          %', nepal_student_count;
  RAISE NOTICE '  - Vietnam:        %', vietnam_student_count;
  RAISE NOTICE '  - Philippines:    %', philippines_student_count;
  RAISE NOTICE 'Enrollments:        %', enrollment_count;
  RAISE NOTICE '';
  RAISE NOTICE '--- PAYMENT DATA ---';
  RAISE NOTICE 'Payment Plans:      %', payment_plan_count;
  RAISE NOTICE 'Installments Total: %', installment_count;
  RAISE NOTICE '  - Overdue:        % (Total: $%)', installment_overdue_count, installment_overdue_total;
  RAISE NOTICE '  - Paid:           %', installment_paid_count;
  RAISE NOTICE '  - Pending:        %', installment_pending_count;
  RAISE NOTICE '  - Cancelled:      %', installment_cancelled_count;
  RAISE NOTICE '';
  RAISE NOTICE '--- DASHBOARD METRICS ---';
  RAISE NOTICE 'Due Soon (7 days):  %', installment_due_soon_count;
  RAISE NOTICE 'Activity Log:       %', activity_log_count;
  RAISE NOTICE '';
  RAISE NOTICE '--- TEST CREDENTIALS ---';
  RAISE NOTICE 'Admin:  admin@pleeno.dev / Admin123!';
  RAISE NOTICE 'User:   user@pleeno.dev / User123!';
  RAISE NOTICE '';
  RAISE NOTICE '--- API ENDPOINTS TO TEST ---';
  RAISE NOTICE '/api/overdue-payments          - Should return ~20 overdue items';
  RAISE NOTICE '/api/seasonal-commission        - Should return 12 months of data';
  RAISE NOTICE '/api/commission-by-school       - Should return top 5 schools';
  RAISE NOTICE '/api/commission-by-country      - Should return top 5 countries';
  RAISE NOTICE '/api/payment-status-summary     - Should show all status types';
  RAISE NOTICE '/api/due-soon-count             - Should return ~15 items';
  RAISE NOTICE '/api/activity-log               - Should return 50 activities';
  RAISE NOTICE '/api/cash-flow-projection       - Should return 90-day projection';
  RAISE NOTICE '';
  RAISE NOTICE 'Visit: http://localhost:3002/login';
  RAISE NOTICE '==============================================================';
  RAISE NOTICE '';
END $$;
