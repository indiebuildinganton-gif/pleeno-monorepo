{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix: Correct indentation in shell middleware.ts\n\nFixed syntax error in shell middleware where the cookies object and entire middleware body had incorrect indentation after adding try-catch wrapper. This was causing the middleware to fail to compile, resulting in MIDDLEWARE_INVOCATION_FAILED errors.\n\nChanges:\n- Properly indented cookies configuration object\n- Properly indented all middleware logic inside try block\n- Ensured all braces match correctly\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(npx pnpm@9.15.0 add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix: Add @supabase/ssr dependency to all app package.json files\n\nThe MIDDLEWARE_INVOCATION_FAILED error was caused by missing @supabase/ssr dependency in individual app package.json files.\n\nRoot cause:\n- Middleware imports @supabase/ssr\n- Each Next.js app bundles its own middleware  \n- Apps couldn''t find @supabase/ssr because it was only in root package.json\n- Module resolution failed at runtime causing middleware crash\n\nFix:\n- Added @supabase/ssr@^0.5.2 to dashboard, entities, payments, agency, and shell\n- Reports already had it\n- Now all apps can successfully import and use the Supabase SSR package\n\nThis should resolve the 500 errors on all deployed apps.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nTest: Replace all middleware with minimal pass-through version\n\nTemporarily simplified all middleware to basic pass-through to isolate the MIDDLEWARE_INVOCATION_FAILED issue.\n\nThis minimal middleware:\n- Only imports Next.js types (no Supabase)\n- Simply logs and passes through all requests\n- No authentication logic\n- No environment variable access\n\nIf this works, the issue is with Supabase SSR in Edge Runtime.\nIf this still fails, the issue is with middleware configuration or Vercel setup.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  }
}
